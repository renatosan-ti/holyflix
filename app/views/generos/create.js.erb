<% if @genero.errors.blank? %>  
  const selectWrapper = document.getElementById('filme_genero');

  function populateHtml(jsonData) {
    if (!jsonData) {return}
    selectWrapper.innerHTML = '';

    const fragment = document.createDocumentFragment()

    jsonData.forEach(genero => {
      let {id, nome } = genero;

      let generoOption = document.createElement('option');
      generoOption.value = genero.id;
      generoOption.innerText = genero.nome;
      fragment.appendChild(generoOption);
    })

    selectWrapper.append(fragment)
  }

  fetch('/generos.json')
  .then(res => res.json())
  .then(data => populateHtml(data))

  $('#novoGenero-modal').modal('hide');   
<% else %>
  alert("error: <%= @genero.errors.full_messages.first %>");
<% end %>